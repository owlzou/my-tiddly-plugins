{"title":"$:/plugins/owlzou/word-count","name":"word-count","author":"owlzou","description":"字数统计插件","plugin-type":"plugin","version":"0.0.1","list":"readme options","dependents":"","type":"application/json","text":"{\"tiddlers\":{\"$:/plugins/owlzou/word-count/data\":{\"title\":\"$:/plugins/owlzou/word-count/data\",\"type\":\"application/json\",\"text\":\"{\\n    \\\"filter\\\": \\\"[all[current]tag[剧情]]\\\"\\n}\"},\"$:/plugins/owlzou/word-count/options\":{\"title\":\"$:/plugins/owlzou/word-count/options\",\"caption\":\"Options\",\"text\":\"! 设置\\n\\n显示字数统计的 Tiddler 过滤器：<$edit-text tiddler=\\\"$:/plugins/owlzou/word-count/data\\\" index=\\\"filter\\\" tag=input/>\\n\"},\"$:/plugins/owlzou/word-count/readme\":{\"title\":\"$:/plugins/owlzou/word-count/readme\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"! word-count\\n\\n字数统计插件，默认只显示在有`剧情`标签的 Tiddler 下（可在设置里修改）。\\n\\n只统计中文字符。\"},\"$:/plugins/owlzou/word-count/template\":{\"title\":\"$:/plugins/owlzou/word-count/template\",\"tags\":\"$:/tags/ViewTemplate\",\"list-before\":\"$:/core/ui/ViewTemplate/body\",\"text\":\"<$list filter={{$:/plugins/owlzou/word-count/data##filter}}>\\n字数：<$word-count text={{!!text}}/>\\n</$list>\"},\"$:/plugins/owlzou/word-count/index.js\":{\"title\":\"$:/plugins/owlzou/word-count/index.js\",\"type\":\"application/javascript\",\"module-type\":\"widget\",\"Modern.TiddlyDev#Origin\":\"index.ts\",\"text\":\"\\\"use strict\\\";var import_widget=require(\\\"$:/core/modules/widgets/widget.js\\\"),WordCount=class extends import_widget.widget{refresh(t){return!1}count(t){let e=0;for(var r=0;r<t.length;r++)(t.charAt(r).match(/[\\\\u4e00-\\\\u9fa5]/)||t.charAt(r).match(/[\\\\u9FA6-\\\\u9fcb]/))&&(e+=1);return e}render(t,e){this.parentDomNode=t,this.execute(),this.computeAttributes();var r=this.getAttribute(\\\"text\\\",\\\"\\\"),o=this.count(r),r=(console.log(r,o),$tw.utils.domMaker(\\\"span\\\",{text:\\\"\\\"+o}));this.domNodes.push(t.appendChild(r))}};exports[\\\"word-count\\\"]=WordCount;\"}}}","Modern.TiddlyDev#SHA256-Hashed":"4bcbd5856cde4a4c73c5506756f7b0ce5482cb7d45025ead67b00e6ae2144963"}